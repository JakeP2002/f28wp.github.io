<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Web Programming: Javascript Prt 2 </title>

		<meta name="description" content="Web Programming creating beautiful interactive and engaging web pages - using client server side technologies - Javascript Prt 2 ">
		<meta name="author" content="Ben Kenwright">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="stylesheet" href="./css/reset.css">
		<link rel="stylesheet" href="./css/reveal.css">
		<link rel="stylesheet" href="./css/theme/white.css" id="theme">
		

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="./lib/css/monokai.css">
		
		<link rel="stylesheet" href="./css/reveal-override.css"/>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? './css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h2>Javascript Prt 2</h2>
					<h4>F28WP Web Programming</h4>
					<p>
						<small>2019-2020</small>
					</p>
				</section>


				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Overview

						* Managing complex Javascript programs
						* Key features
						* Debugging
						* Examples
						* Questions and Discussion
						
					</textarea>
				</section>

			
				<section>
					<section data-markdown data-transition="slide" data-background="#b5533c" data-background-transition="zoom">
						<textarea data-template>
						## Revision Question
						What's the output?
						
						```
							function sum(a, b) {
							  return a + b;
							}

							sum(1, "2");
						```
						* A: NaN
						* B: TypeError
						* C: "12"
						* D: 3

						</textarea>
					</section>
					
					<section data-markdown data-transition="slide" data-background="#b5533c" data-background-transition="zoom">
						<textarea data-template>
						## Answer
						
						* Answer **C**
						
						---
						
						* JavaScript is a dynamically typed language
						* Implicit type coercion
						* JavaScript converts the number 1 into a string
						* So what's happens is "1" + "2" which returns "12".

						</textarea>
					</section>
				</section>
				
				
			

				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Javascript (Not a Toy)

						* Small, but sophisticated
						* It is not a subset of Java
						* Able to accomplish complex tasks
					
					</textarea>
				</section>	
				
				
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Values

						* Number 
						* Strings
						* Booleans
						* Objects
						* null
						* undefined					
					</textarea>
				</section>	
				
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Numbers

						* Only one number type
						  - No integers
						* 64-bit floating point 
						  - IEEE-754 (aka "Double")
						* Does not map well to common understanding of arithmetic
						
						```
						0.1 + 0.2 = 0.30000000000000000004
						```
					</textarea>
				</section>
				
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## NaN

						* Special number: **Not a Number**
						* Erroneous or undefined operations
						* **Toxic** - any arithmetic operation with NaN will result in a NaN
						* NaN is **not** equal to anything (including NaN)
					</textarea>
				</section>
				
								
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Number( value )

						* **Convert** value to numbers
						* Produces **NaN** if there is a problem
						
						---
						
						## parseInt( value, 10 )
						* **Converts value into a number
						* Stops at the first `non-digit' character
						* If no radix is specified:
						  - "0x" - Hexadecimal (16)
						  - "0"  - Octal (8)
						  - Any other value - Decimal (10)
					</textarea>
				</section>
				
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Examples
						```
						parseInt( "08" ) === 0
						parseInt( "08" ) === 8
						```
						
						**Safer** to specify the "radix" parameter
						![Details](https://stackoverflow.com/questions/12318830/parseint08-returns-0)
					</textarea>
				</section>
				
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## null or undefined
						
						* null - value that isn't anything 
						* undefined - value that isn't even that
						  - default value for a variable or parameter 
						  - value of missing member of an object
					</textarea>
				</section>
				
							
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Falsy and Truthy
						
						* False, null, undefined 
						* "" (empty string), 0, 
						* NaN
						
						---
						
						* All other values (including all objects) are truthy
						* "0", "false"
					</textarea>
				</section>	
				
											
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Boolean ( value )
						
						* return true if value is **truthy**
						* return false if value is **falsy**
					</textarea>
				</section>	
				
															
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Dynamic Objects
						
						* new Object() produces an empty container of name/value pairs
						* name can be any string, value any value (except undefined)
						* members accessed with dot notation or subscript
						
						
					</textarea>
				</section>	
				
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Example
						
						Example also creates a new JavaScript object with four properties:
						```
						var person = new Object();
						person.firstName = "John";
						person.age = 50;
						```
						
						```
						var person = {firstName:"John", age:50};
						```
						
					</textarea>
				</section>	
				
								
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Reserved Words
						
						abstract boolean break byte case catch char class const continue debugger default delete do double else enum export extends false final finally float for function goto if implements import in instanceof int interface long native new null package private protected public return short static super switch synchronized this throw throws transient true try typeof var volatile void while with
						
					</textarea>
				</section>	
				
												
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## == !=
						
						* Equal and not equal 
						* These operators can do *type coercion*
						
						---
						
						* Better to use === and !===
						  - Do not do type coercion
						
					</textarea>
				</section>	

												
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Switch statement
						
						```
						switch (expression) {
							case ':':
							case ',':
							case '.':
								punctuation();
								break;
							default:
								nonOfTheAbove();
						}
						```
					</textarea>
				</section>	

																		
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Throw statement
						
						```
						throw new Error(reason);
						
						throw {
							name: exceptionName;
							message: reason
						};
						```
					</textarea>
				</section>
						
																						
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Try statement
						
						```
						try {
							...
						}
						catch (e) {
							switch (e) {
								case 'Error':
									...
									break;
								default:
									throw e;
							}
						}
						```
					</textarea>
				</section>
				
		
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Try statement
						
						Javascript implementation can produce these exception names:
						
						* `Error'
						* `EvalError`
						* `RangeError`
						* `SyntaxError`
						* `TypeError`
						* `URIError`
					</textarea>
				</section>				
				
						
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Var
						
						* Define variables within a function 
						* Types are not specified 
						* Initial values are optional 
						
						```
						var name;
						var nrErrors = 0;
						var a, b, c;
						```
					</textarea>
				</section>	
				
										
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Scope
						* In Javascript, { blocks } do **not** have scope 
						* Only functions have scope 
						* Vars defined in a function are not visible outside of the function 
					</textarea>
				</section>	
				
														
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Return statement
						``` 
						return expression;
						```
						or 
						```
						return;
						```
						
						* If there is **no expression**, then the return value is **undefined**
						* Except for constructors, whose return value is **this**
					</textarea>
				</section>	
				
				
																		
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Objects 
						* Objects can contain data and methods 
						* Objects can inherit from other objects 
					</textarea>
				</section>	
				
																					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Collections
						* An object is an undordered collection of name/value pairs
						* Names are strings 
						* Values are any type, including other objects 
						* Good for representing records and trees
						* Every object is a little database
					</textarea>
				</section>		
				
				
					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Object Literals
						* Object literals are wrapped in { }
						* Names can be names or strings 
						* Values can be expressions
						* : seperates names and values 
						* , seperates paris
						* Object literals can be used anywhere a value can appear
					</textarea>
				</section>		
				
									
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Object Literals
						
						```
						var myob = {name:'bob', goto:'test' };
						```
						
						```
						var theName = myob.name;
						var dest    = myob[ 'goto' ];
						```
						
					</textarea>
				</section>
				
				
													
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Maker Function 
						
						```
						function maker(name, where, grade)
						{
							var it = {};
							it.name = name;
							it['goto']=where;
							it.grade=grade;
							return it;
						}
						myobj = maker('abc', 'happy', 22);
						```
					</textarea>
				</section>
				
													
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Object Literals
						
						```
						var myob = {
						   name: 'bob',
						   'goto': `test',
						   format: { 
							  type: 'rect',
							  inter: false 
						   }
						}
						```
						
						* JSON  = Java Simple Object Notation 
						* Simple organisation to pass data to client
					</textarea>
				</section>				
				
													
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Object Literals
						
						```
						myfun( {
							type: 'rect', 
							height: 100} 
						);
						```
					</textarea>
				</section>				
				
																	
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Object Augmentation
						
						* New members can be added to an object by simple assignment
						* No need to define a new class 
						
						```
						myobj.format.col = 'rgb';
						
						myobj[ name ] = value;
						```
						
					</textarea>
				</section>	
				
																					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Object Methods
						
						* All objects are linked directly or indirectly to
						```
						Object.prototype
						```
						* All objects inherit some basic methods
						* None of them are very useful
						```
						hasOwnProperty(name)
						```
						Is the name a true member of this object?
						
						* No copy method 
						* No equals method
						
					</textarea>
				</section>	
				
					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Object Construction
						
						* All three expressions below have exactly the same
						result 
						* Creation of a new empty object:
						
						1. new Object()
						2. { }
						3. object(Object.prototype)
						
						* { } is the preferred form
						
					</textarea>
				</section>
				
					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Reference or Value
						* Objects can be passed as arguments to functions
						* Objects can be returned by functions
						
						* Objects are always passed by **reference**
						
						* The === operator compares object references **not values**
						  - true only if both operands are the same object
					</textarea>
				</section>

					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## delete 
						
						* Members can be removed from an object with the **delete** operator 
						
						```
						delete myobj[ name ];
						```
						
					</textarea>
				</section>


					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Arrays
						
						* Array inherits from Object 
						* **Indexes** are converted to **strings** and used as names for retriving values 
						* Very efficient for sparse arrays
						* Advantage: No need to provide length or type when creating an array
						* Unlike objects, arrays have `length' member 
					</textarea>
				</section>

					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Array Literals 
						
						* An array uses []
						* Expressions seperated by commas
						```
						mylist = ['a', 'b', 2, '33'];
						```
						* New items can be appended
						```
						mylist[mylist.length] = 'test';
						```
						* [] is preferred to `new Array'
						
					</textarea>
				</section>

					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Array Methods 
						* concat 
						* join 
						* pop 
						* push 
						* slice 
						* sort 
						* splice
						
					</textarea>
				</section>

					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Deleting Elements 
						```
						delete array[ number ];
						```
						
						Removes the element, but leaves a **hole** in the numbering
						
						```
						array.splice( number, 1 );
						```
						
						Removes the element and renumbers all the following elements
						
					</textarea>
				</section>

					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Deleting Elements 
						```
						myArray = ['a', 'b', 'c'];
						delete myArray[1];
						
						// ['a', undefined, 'c']
						
						myArray.splice(1, 1);
						
						// ['a', 'c', 'd']
						```
						
					</textarea>
				</section>

					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Arrays v Objects
						
						* Use objects when names are arbitrary strings
						* Use arrays when the names are sequential integers

						
					</textarea>
				</section>


					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Functions
						
						* Functions can be passed, returned and stored just like any other value 
						
						* Functions inherit from Object and can store name/value pairs

						
					</textarea>
				</section>



					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Invocation
						
						```
						function foo() { alert('hello'); }
						foo();
						```
						
						---
						
						## Self Invocation 
						```
						( function foo() { alert('hi'); }() );
						```
						
						---
						
						## No Name
						```
						( function() { alert('yo'); } () );
						```
						
					</textarea>
				</section>
				

					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Function statement 
						
						Function statement is just a short-hand for the var statement with a function value 
						
						```
						function foo(){ }
						```
						expands to
						```
						var foo = function foo() { };
						```
						
					</textarea>
				</section>



					
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Inner functions 
						
						* Functions can be defined inside other functions 
						
						* An inner function has access to the variables and parameters of functions within the scope 
						
						  - known as static scoping or lexical scoping
						
					</textarea>
				</section>

				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Example 
						
						```
						function fade(id) {
							var dom = document.getElementById(id), level = 1;
							function step() {
								var h = level.toString(16);
								dom.style.backgroundColor = 
									'#FFFFFF' + h + h;
									if ( level < 15 ) {
										level += 1;
										setTimeout(step, 100);
									}
							}
							setTimeout(step, 100);
						}
						```
						
					</textarea>
				</section>


				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Methods 
						* Since functions are values, functions can be stored in objects
						
						* A function in an object is called a method
						
					</textarea>
				</section>



				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Invocation 
						
						* A function called with too many arguments - extra arguments are **ignored**
						
						* A function called with too few arguments - the missing values will be **undefined**
						
						* No implicit type checking on arguments
						
					</textarea>
				</section>




				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## 4 Ways to Call a Function 
						
						1. Function form 
						```
						functionObject( args )
						```
						2. Method form 
						```
						thisObject.methodName( args );
						thisObject['methodName'](args);
						```
						3. Constructor form
						```
						new functionObject( args );
						```
						4. Apply form 
						```
						functionObject.apply(thisObject, [args])
						```
					</textarea>
				</section>




				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## arguments 
						
						* variable number of arguments 
						* Find the number of arguments passed :
						```
						arguments.length
						```
						* Access the arguments by the variable name or :
						```
						arguments[ i ]; // i index of the argument 
						```
						
					</textarea>
				</section>



				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## typeof 
						* typeof prefix operator returns a string identifying the type of a value 
						
						![](./images/typeof.jpg)
					</textarea>
				</section>



				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## typeof 
						* typeof prefix operator returns a string identifying the type of a value 
						
						![](./images/typeof.jpg)
					</textarea>
				</section>
				

				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Prototypal Inheritance
						
						* Some languages have 
						  - classes, methods, constructors and modules 
						* Javascript's **functions** do all the work 
						<!--
						* Instead of **classical inheritance**, Javascript has **Prototypal Inheritance**
						  - Offers greater expressive power 
						 -->
						
					</textarea>
				</section>

<!--
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Prototypal Inheritance
						
						* Instead of rigid classes, new objects can be made that are similar to existing objects, then customized
						
						
					</textarea>
				</section>
				-->

				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## (global) Object
						
						* Container for all global variables and all built-in objects
						
						* On browser, `window' is the global object
					</textarea>
				</section>
		


				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Global variables are **bad**
						
						* Functions within an application can impact each other
						* Cooperating applications can injure/impact each other 
						* Use of the global namespace should be minimal
					</textarea>
				</section>




				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Global Implied
						
						* Any var which is not properly declared is assume dto be global by default 
						* Makes it easy for people who do not know or care about encapsulation to be productive (but makes applications less reliable)
						
						* JSLint is a tool which helps identify implied globals and other weaknesses 
						
						  - [Link JSLint](https://www.JSLint.com)
						
					</textarea>
				</section>


				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Encapsulate
						
						* Function scope can create an encapsulation 
						
						* Use an anonymouse function to wrap your application
						
					</textarea>
				</section>
				
		
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Coding Conventions and Javascript
						
						* Javascript coding conventions are critically important 
						

						
					</textarea>
				</section>
						
		
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Semicolons 
						
						* When the compiler sees an error, it attempts to replace a nearby linefeedb with a semicolon and try again 
						
						* This should alarm your
						* It can mask errors 
						
						* Always use the full, correct forms,  including semicolons

						
					</textarea>
				</section>
				
		
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Comma
						
						* Avoid tricky expressions uing the comma operators 
						
						* Do not use extra commas in array literals 
						
						Good:
						```
						[1,2,3]
						```
						Bad:
						```
						[1,2,3,]
						```

						
					</textarea>
				</section>

		
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Blocks
						
						Good
						```
						if (a) {
							b();
						}
						```
						
						Bad 
						```
						if (a) b;
						```
						
					</textarea>
				</section>
				
						
				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Forbidden Blocks
						
						* Blocks do not have scope in Javascript 
						
						* Blocks should only be used with structured statements 
						
						e.g., function, if, switch, while, for, do , try 
						
					</textarea>
				</section>
				


				<section data-markdown style="text-align: left;">
					<textarea data-template>
						## Summary

						* Understanding of Javascript
						* Language
						* Features
						* Standards
						* Styles
					
					</textarea>
				</section>

				<section style="text-align: left;">
					<h2>To do this week ...</h2>
					<p>
						&bull; Read over the lectures <br>
						&bull; Review the revision questions <br>
						&bull; Work through tutorial practicals <br>
						&bull; Experiment (get into good habits) <br>
					</p>
				</section>
				

			</div>

		</div>

		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				center: true,
				hash: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true },
					{ src: 'plugin/search/search.js', async: true },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

<div class="hidden-mobile">
    <div style="display: block; position: absolute; bottom: 5px; left: 5px; margin-left: 0px; z-index: 20;">
        <a href="https://f28wp.github.io" class="twitter-follow-button" data-show-count="false"><img src="images/webhome.png" width="8%"></a>
        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    </div>
</div>


	</body>
</html>
